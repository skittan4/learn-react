<!DOCTYPE html>
<html lang="en">
  <meta charset="utf-8" />
  <title>05 Transform the form | FAC React</title>

  <body>
    <!-- These scripts will make React and ReactDOM globally available. -->
    <script src="./../assets/react@16.9.0/umd/react.development.js"></script>
    <script src="./../assets/react-dom@16.9.0/umd/react-dom.development.js"></script>
    <!-- This will let us write JSX and ES6 in a script tag with a special type of "text/babel" -->
    <script src="./../assets/babel-standalone@7.6.0/babel.js"></script>

    <div id="root"></div>

    <script type="text/babel">
      const root = document.getElementById("root");

      const celsiusToFahrenheit = (c) => Math.round((c * 9) / 5 + 32);
      const fahrenheitToCelsius = (f) => Math.round(((f - 32) * 5) / 9);

      function TempConverter() {
        const [scale, setScale] = React.useState("celsius");
        const [temp, setTemp] = React.useState("");
        const handleScaleChange = (event) => setScale(event.target.value);
        return (
          <form>
            <h1>Temperature converter</h1>
            <fieldset>
              <legend>Scale</legend>
              <label htmlFor="celsius">Celsius</label>
              <input
                type="radio"
                name="scale"
                id="celsius"
                value="celsius"
                checked={"celsius" === scale}
                onChange={handleScaleChange}
              />
              <label htmlFor="fahrenheit">Fahrenheit</label>
              <input
                type="radio"
                name="scale"
                id="fahrenheit"
                value="fahrenheit"
                checked={"fahrenheit" === scale}
                onChange={handleScaleChange}
              />
            </fieldset>
            <label htmlFor="temp">Temperature</label>
            <input
              type="number"
              id="temp"
              value={temp}
              onChange={(event) => setTemp(event.target.value)}
            />
            <div>
              {temp && (
                <output>
                  {scale === "celsius"
                    ? celsiusToFahrenheit(temp) + "F"
                    : fahrenheitToCelsius(temp) + "C"}
                </output>
              )}
            </div>
          </form>
        );
      }

      ReactDOM.render(<TempConverter />, root);
    </script>
  </body>
</html>
